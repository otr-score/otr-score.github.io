!function(n){function e(e){for(var a,s,l=e[0],i=e[1],c=e[2],u=0,p=[];u<l.length;u++)s=l[u],r[s]&&p.push(r[s][0]),r[s]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a]);for(d&&d(e);p.length;)p.shift()();return o.push.apply(o,c||[]),t()}function t(){for(var n,e=0;e<o.length;e++){for(var t=o[e],a=!0,l=1;l<t.length;l++){var i=t[l];0!==r[i]&&(a=!1)}a&&(o.splice(e--,1),n=s(s.s=t[0]))}return n}var a={},r={0:0},o=[];function s(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=n,s.c=a,s.d=function(n,e,t){s.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},s.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},s.t=function(n,e){if(1&e&&(n=s(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var a in n)s.d(t,a,function(e){return n[e]}.bind(null,a));return t},s.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return s.d(e,"a",e),e},s.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},s.p="";var l=window.webpackJsonp=window.webpackJsonp||[],i=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=i;o.push(["./src/index.js",1]),t()}({"./node_modules/css-loader/index.js!./src/style.css":function(n,e,t){(n.exports=t("./node_modules/css-loader/lib/css-base.js")(!1)).push([n.i,"label {\n    font-weight: bold;\n}\n.btn-group {\n    display: block;\n}\n.number {\n    text-align: right;\n}\n",""])},"./src/base.html":function(n,e){n.exports='<main role="main" class="flex-shrink-0">\n  <nav class="navbar navbar-expand-sm navbar-dark bg-secondary mb-3">\n    <span class="navbar-brand">\n      Trauma-Reha-Score\n    </span>\n    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">\n      <span class="navbar-toggler-icon"></span>\n    </button>\n    <div class="collapse navbar-collapse" id="navbarSupportedContent">\n      <ul class="navbar-nav mr-auto">\n        <li class="nav-item dropdown">\n          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            Datei\n          </a>\n          <div class="dropdown-menu" aria-labelledby="navbarDropdown">\n            <a class="dropdown-item" data-toggle="modal" data-target="#clearModal" href="#">Neu</a>\n            <a class="dropdown-item" data-toggle="modal" data-target="#importModal" href="#">Öffnen</a>\n            <a class="dropdown-item" id="export-json" href="#">Speichern</a>\n            <a class="dropdown-item" id="export-xlsx" href="#">Als Excel speichern</a>\n          </div>\n        </li>\n      </ul>\n    </div>\n  </nav>\n\n  \x3c!-- import Modal --\x3e\n  <div class="modal fade" id="importModal" tabindex="-1" role="dialog" aria-labelledby="importModalLabel" aria-hidden="true">\n    <div class="modal-dialog" role="document">\n      <div class="modal-content">\n        <div class="modal-header">\n          <h5 class="modal-title" id="importModalLabel">Datei öffnen</h5>\n          <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n            <span aria-hidden="true">&times;</span>\n          </button>\n        </div>\n        <div class="modal-body">\n          <form>\n            <div class="form-group">\n              <input type="file" id="import-json-form" class="form-control-file">\n            </div>\n          </form>\n        </div>\n        <div class="modal-footer">\n          <button type="button" class="btn btn-secondary" data-dismiss="modal">Abbrechen</button>\n          <button type="button" class="btn btn-primary" id="import-json">Öffnen</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- clear Modal --\x3e\n  <div class="modal fade" id="clearModal" tabindex="-1" role="dialog" aria-labelledby="clearModalLabel" aria-hidden="true">\n    <div class="modal-dialog" role="document">\n      <div class="modal-content">\n        <div class="modal-header">\n          <h5 class="modal-title" id="clearModalLabel">Liste löschen</h5>\n          <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n            <span aria-hidden="true">&times;</span>\n          </button>\n        </div>\n        <div class="modal-body">\n          Wollen Sie die Liste tatsächlich löschen?\n        </div>\n        <div class="modal-footer">\n          <button type="button" class="btn btn-secondary" data-dismiss="modal">Abbrechen</button>\n          <button type="button" class="btn btn-primary" id="clear-storage">Löschen</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div id="page" class="container">\n  </div>\n</main>\n\n<footer class="footer bg-light mt-auto py-3">\n  <div class="container-fluid text-right py-2">\n    <span class="text-muted ml-auto">\n      AK Traumarehabilitation Sektion Rehabilitation -\n      Physikalische Therapie der DGOU<br />\n      &copy; Mathis Rosenhauer, Valentin Rosenhauer, Jörg Schmidt\n    </span>\n  </div>\n</footer>\n'},"./src/common.js":function(n,e,t){"use strict";t.d(e,"j",function(){return a}),t.d(e,"e",function(){return r}),t.d(e,"i",function(){return o}),t.d(e,"g",function(){return s}),t.d(e,"f",function(){return l}),t.d(e,"h",function(){return i}),t.d(e,"a",function(){return c}),t.d(e,"d",function(){return d}),t.d(e,"k",function(){return u}),t.d(e,"c",function(){return p}),t.d(e,"b",function(){return m});var a={st:{component:"st",group:"med",label:"Schmerztherapie",multiple:!1,options:["Keine Schmerztherapie notwendig","WHO Stufe 1 Medikamente","WHO Stufe 2-3 Medikamente","CRPS, Phantomschmerz, Schmerzkrankheit, komplexe pharmakologische und physikalische Schmerztherapie notwendig","Zusätzlich zu oben: Invasive Schmerztherapie notwendig"],start_row:!0,end_row:!1,scores:[0,2,4,8,15]},md:{component:"md",group:"med",label:"Medizinische Therapie/Diagnostikbedarf",multiple:!1,options:["Nicht notwendig","Medikamentöse internistische Therapieeinstellung/ Laborkontrollen bzw. Basisdiagnostik wie Röntgen, Sono notwendig","Zusätzlich: Spezielle Verlaufsuntersuchungen (Herzecho, Duplex Gefäße, LZ-RR, LZ-EKG, etc.) / IV-Therapie notwendig","Zusätzlich: Schneller Zugang zu anderen Fachdisziplinen u. / o. Großgerätediagnostik notwendig bzw. isolierpflichtiger Patient"],start_row:!1,end_row:!0,scores:[0,5,10,20]},wm:{component:"wm",group:"med",label:"Wundmanagement",multiple:!1,options:["Nicht notwendig","Notwendig, ein Bereich","Notwendig, zwei Bereiche","Notwendig, drei und mehr Bereiche"],start_row:!0,end_row:!1,scores:[0,15,20,25]},vh:{component:"vh",group:"med",label:"Versorgung/ Anpassung von aufwändigen Hilfsmitteln",multiple:!1,options:["Nicht notwendig","Eine Funktionseinheit","Zwei und mehr Funktionseinheiten"],start_row:!1,end_row:!0,scores:[0,15,20]},ps:{component:"ps",group:"med",label:"Psychotherapie",multiple:!1,options:["Nicht notwendig","Psycho(trauma)-Therapie notwendig:  Grundversorgung (2-3 Sitzungen in 3 Wochen)","Psycho(trauma)-Therapie notwendig:  Therapieschwerpunkt (5-6 Sitzungen in 3 Wochen)"],start_row:!0,end_row:!0,scores:[0,5,10]},or:{component:"or",group:"care",label:"Orientierung",multiple:!1,options:["Klar orientiert. Nimmt an den ADL und den Therapien selbstständig teil","Phasenweise desorientiert. ADL und Therapien nur mit enger pflegerischer und therapeutischer Betreuung möglich","Desorientiert. Ständige Begleitperson ist notwendig zur Sicherstellung der ADL und der Therapien"],start_row:!0,end_row:!1,scores:[0,15,30]},ua:{component:"ua",group:"care",label:"Unterstützungsbedarf bei ADL",multiple:!0,options:["","Benötigt Hilfe beim Waschen","Benötigt Hilfe bei Toilettenbenutzung","Benötigt Hilfe beim Ankleiden","Benötigt Hilfe beim Essen"],start_row:!1,end_row:!0,scores:[0,5,5,5,5,5]},ko:{component:"ko",group:"care",label:"Kontinenz",multiple:!1,options:["Kontinent","Harninkontinenz, vom Pat nicht durch Hilfsmittel kompensierbar","Stuhlinkontinenz, vom Pat nicht durch Hilfsmittel kompensierbar","Stuhl- und Harninkontinenz"],start_row:!0,end_row:!1,scores:[0,10,10,15]},mo:{component:"mo",group:"care",label:"Mobilität",multiple:!1,options:["Volle Mobilität","Selbstständig 1 Treppe, ggf. mit Hilfsmitteln","Selbstständig ebene Gehstrecke über 50 m, ggf. mit Hilfsmitteln","Selbstständig  ebene Gehstrecke unter 50 m, ggf. mit Hilfsmitteln","Selbstständig Transfer Bett /Stuhl","Selbstständig halten einer stabilen Sitzposition","Selbstständiger Positionsechsel im Bett","Vollständige Immobilität"],start_row:!1,end_row:!0,scores:[0,2,3,5,10,12,15,25]},be:{component:"be",group:"thera",label:"Belastbarkeit der Funktionseinheit",multiple:!1,options:["Vollbelastung, keine Schmerzen","Schmerzadaptierte Vollbelastung / belastungsstabil","Minimal belastender Gang / bewegungsstabil, aktives Bewegen","Entlastender Gang / bewegungsstabil, assistives Bewegen","Entlastender Gang / bewegungsstabil, passives Bewegen"],start_row:!0,end_row:!1,scores:[0,2,6,12,15]},wt:{component:"wt",group:"thera",label:"Weichteilzustand",multiple:!1,options:["Unauffälliger Befund, keine Therapie notwendig","Geringe Restschwellung, Kompressionstherapie reicht aus","Mäßige Restschwellung, Muskelverspannung, physikalische Therapiemaßnahmen wie Strom, Wasser sind notwendig","Erhebliche Restschwellung, Muskelverspannung, kontrakte Narbensituation, physikalische Therapiemaßnahmen wie manuelle Lymphdrainage und Narben- Faszientherapie sind notwendig"],start_row:!1,end_row:!0,scores:[0,1,2,4]},gf:{component:"gf",group:"thera",label:"Gelenkfunktion",multiple:!1,options:["Keine Bewegungseinschränkung","Endgradige Bewegungseinschränkung","Bewegungseinschränkung um 1/3 im Vergleich zum normalen Bewegungsumfang","Bewegungseinschränkung um 1/2 im Vergleich zum normalen Bewegungsumfang","Bewegungseinschränkung um 2/3 im Vergleich zum normalen Bewegungsumfang"],start_row:!0,end_row:!1,scores:[0,2,4,6,8]},mk:{component:"mk",group:"thera",label:"Muskelkraft funktionell wichtiger Muskeln",multiple:!1,options:["Kraftgrad 5 n. Janda","Atrophie, Kraftgrad 4 n. Janda","Atrophie, Kraftgrad 3 n. Janda spezifische Therapie notwendig","Atrophie, Kraftgrad 2 und kleiner n. Janda intensive Therapie notwendig"],start_row:!1,end_row:!0,scores:[0,2,4,8]},sk:{component:"sk",group:"thera",label:"Sensibilitäts- Koordinationsstörung",multiple:!1,options:["Keine funktionellen Defizite","Hypästhesie, Schutzsensibilität noch ausreichend, geringe koordinative Defizite","Hypästhesie, Schutzsensibilität eingeschränkt, Koordinationsstörungen beeinträchtigen ADL"],start_row:!0,end_row:!0,scores:[0,4,8]}},r=[{name:"Kopf/HWS",subregions:null},{name:"Thorax/BWS",subregions:null},{name:"Abdomen/LWS/Becken",subregions:null},{name:"Rechter Arm",subregions:["Schulter/Oberarm","Ellenbogen/Unterarm","Hand"]},{name:"Linker Arm",subregions:["Schulter/Oberarm","Ellenbogen/Unterarm","Hand"]},{name:"Rechtes Bein",subregions:["Hüftgelenk/Oberschenkel","Kniegelenk/Unterschenkel","Sprunggelenk/Fuß"]},{name:"Linkes Bein",subregions:["Hüftgelenk/Oberschenkel","Kniegelenk/Unterschenkel","Sprunggelenk/Fuß"]}],o={st:[0,2,4,8,15],md:[0,5,10,20],wm:[0,15,20,25],vh:[0,15,20],ps:[0,5,10],or:[0,15,30],ua:[0,5,5,5,5,5],ko:[0,10,10,15],mo:[0,2,3,5,10,12,15,25],be:[0,2,6,12,15],wt:[0,1,2,4],gf:[0,2,4,6,8],mk:[0,2,4,8],sk:[0,4,8],kv:[0,5,10]},s=Object.keys(o),l=["st","md","wm","vh","ps","or","ua","ko","mo"],i=["be","wt","gf","mk","sk","kv"];function c(){this.a={lab:""},this.a={phase:""},this.ms=[];var n=this.a;l.forEach(function(e){n[e]=0})}function d(n){var e=function(n){var e=localStorage.getItem(n);return"string"==typeof e?JSON.parse(e):null}(n);return null==e&&(e=new c),e}function u(n,e){localStorage.setItem(n,JSON.stringify(e))}function p(n,e){var t=0;return Array.isArray(e)?e.forEach(function(e){t+=o[n][parseInt(e)]}):t=o[n][parseInt(e)],t}function m(n){var e=100;return l.forEach(function(t){e-=p(t,n.a[t])}),n.ms.forEach(function(n){i.forEach(function(t){var a=o[t][n[t]];e-=a})}),e}},"./src/detail.js":function(n,e,t){"use strict";(function(n){t.d(e,"a",function(){return b});var a=t("./src/common.js"),r=t("./src/print.js"),o=t("./src/templates/detail.hbs"),s=t.n(o);t("./node_modules/imports-loader/index.js?$=jquery!./node_modules/jQuery.print/jQuery.print.js");var l=Object.values(a.j),i={med:l.filter(n=>"med"==n.group),care:l.filter(n=>"care"==n.group),thera:l.filter(n=>"thera"==n.group)},c=s()(i);function d(){var e=n("#region option:selected").val(),t=a.e[e].subregions;n("#subregion").find("option").remove(),t?(t.forEach(function(e,t){n("#subregion").append(n("<option>",{value:t,text:e}))}),n("#subregion").removeAttr("disabled")):n("#subregion").attr("disabled",1),u()}function u(){n("#kv").hide(),n("#kv").find(".form-check").remove();var e=n("#region option:selected").val();if(a.e[e].subregions){var t=n("#subregion option:selected").val(),r=a.e[e].subregions.slice();r.splice(t,1),r.forEach(function(e,t){var a=n("<div>",{class:"form-check"}).appendTo(n("#kv").find(".form-group"));n("<label>",{for:"kv"+t,class:"form-check-label",text:e}).appendTo(a).prepend(n("<input>",{type:"checkbox",name:"kv"+t,class:"form-check-input",value:1}))}),n("#kv").fadeIn()}}function p(e){n("#score").text(Object(a.b)(e))}function m(e){var t=e.ms;if(t.length>0){var r=[];t.forEach(function(n,e){var t=a.e[n.region],o=t.name;t.subregions&&(o+=": "+t.subregions[n.subregion]);var s='<tr><td colspan="2">'+o+"</td>",l=0;a.h.forEach(function(e){var t=a.i[e][n[e]];s+='<td class="number">'+t+"</td>",l+=t}),n.kv>0&&Array.isArray(n.kv_name)?s+='<td class="number">'+n.kv_name.join(" + ")+"</td>":s+="<td></td>",s+='<td class="number">'+l+'</td><td class="no-print"><button type="button" value="'+e+'" class="close remove" aria-label="Close"><span aria-hidden="true">&times;</span></button></td></tr>',r.push({sum:l,html:s})}),r.sort(function(n,e){return e.sum-n.sum}),p(e),function(e){var t=n("#body-thera");t.empty(),e.forEach(function(n){t.append(n.html)})}(r),n(".area-thera").fadeIn()}else n(".area-thera").hide()}function h(e,t){var r='<tr><td colspan="3"><strong>Ärztlich</strong></td>',o=e.a,s=n("#table-a");if(s.empty(),o){var l=0;a.f.forEach(function(n,e){var t=Object(a.c)(n,o[n]);5==e&&(r+='<td></td><td class="number">'+l+"</td></tr>",l=0,r+='</tr><tr><td colspan="4"><strong>Pflegerisch</strong></td>'),r+='<td class="number"><strong>'+n.toUpperCase()+":</strong> "+t+"</td>",l+=t}),r+='<td></td><td class="number">'+l+'</td><td class="no-print"></td></tr>',s.append(r),Object(a.k)(t,e)}p(e)}function f(e){a.e.forEach(function(e,t){n("#region").append(n("<option>",{value:t,text:e.name}))}),d(),n("#ua").multiselect({nonSelectedText:"Selbstständig",numberDisplayed:1,allSelectedText:"Alle gewählt",nSelectedText:"gewählt"}),n("#region").change(d),n("#subregion").change(u),n(".med-care-input").filter(":input").change(function(t){t.preventDefault();var r={};n(".med-care-input").filter(":input").each(function(){r[n(this).attr("name")]=n(this).val()});var o=Object(a.d)(e);o.a=r,Object(a.k)(e,o),h(o,e)}),n("#form-thera").on("submit",function(t){t.preventDefault();var r={kv:0,kv_name:[]};n("#form-thera *").filter(":input").each(function(){var e=n(this).attr("name");e&&(e.startsWith("kv")?n(this).prop("checked")&&(r.kv+=parseInt(n(this).val()),r.kv_name.push(n(this).parent().text())):r[e]=parseInt(n(this).val()))});var o=Object(a.d)(e);o.ms.push(r),Object(a.k)(e,o),n("#body-thera").fadeOut(400,function(){m(o)})}),n("#body-thera").on("click",".close",function(){var t=parseInt(n(this).val());n("#body-thera").fadeOut(400,function(){!function(e,t){var r=Object(a.d)(t);r.ms.splice(e,1),Object(a.k)(t,r),r.ms.length>0?m(r):n("#header-thera").fadeOut(400,function(){m(r)})}(t,e)})}),n("#reset").click(function(){var t=new a.a;Object(a.k)(e,t),n(".form-med-care").trigger("reset"),n("#ua").multiselect("refresh"),n(".area-thera").fadeOut(400,function(){n("#form-thera").trigger("reset"),d(),h(t,e)})}),n("#print-preview").click(function(n){n.preventDefault(),Object(r.a)(e)}),n("#print").click(r.b)}function b(e){var t=n("#page");t.hide(),t.html(c),f(e);var r=Object(a.d)(e);for(const e in r.a)n("input[name='"+e+"']").val(r.a[e]),n("select[name='"+e+"']").val(r.a[e]);n("#ua").multiselect("refresh"),h(r,e),m(r),p(r),t.fadeIn()}}).call(this,t("./node_modules/jquery/dist/jquery.js"))},"./src/index.js":function(n,e,t){"use strict";t.r(e),function(n){t("./node_modules/bootstrap/dist/js/bootstrap.js"),t("./node_modules/bootstrap/dist/css/bootstrap.min.css"),t("./node_modules/bootstrap-multiselect/dist/js/bootstrap-multiselect.js"),t("./node_modules/bootstrap-multiselect/dist/css/bootstrap-multiselect.css"),t("./src/style.css");var e=t("./src/list.js"),a=t("./src/detail.js"),r=t("./src/io.js"),o=t("./node_modules/offline-plugin/runtime.js");const s=t("./src/base.html");n(function(){o.install(),n("body").append(s),n("#export-xlsx").click(r.c),n("#clear-storage").click(function(){Object(r.a)(),n("#clearModal").modal("hide")}),n("#export-json").click(r.b),n("#import-json").click(function(){Object(r.d)(n("#import-json-form").prop("files")[0]),n("#importModal").modal("hide")}),n(window).on("hashchange",function(){!function(n){if("#trs"==n.split("/")[0]){var t="trs_"+n.split("/")[1];Object(a.a)(t)}else Object(e.a)()}(decodeURI(window.location.hash))}),n(window).trigger("hashchange")})}.call(this,t("./node_modules/jquery/dist/jquery.js"))},"./src/io.js":function(n,e,t){"use strict";(function(n){t.d(e,"c",function(){return d}),t.d(e,"a",function(){return u}),t.d(e,"b",function(){return p}),t.d(e,"d",function(){return m});var a=t("./node_modules/xlsx/xlsx.js"),r=t.n(a),o=t("./node_modules/file-saver/FileSaver.js"),s=t("./src/common.js");function l(n,e){var t={};return s.h.forEach(function(n){t[n]=0}),n.ms.forEach(function(n){if(n.region==e.ri&&n.subregion==e.si)return s.h.forEach(function(e){t[e]=n[e]}),t}),t}function i(n){return function(n){return n.replace(/^([A-Z])/,"$$$1")}(function(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(n))}function c(n,e,t,a,o){var l,c=r.a.utils.encode_cell({c:e,r:t}),d=[];Array.isArray(o)?o.length>0?o.forEach(function(n){l=r.a.utils.encode_cell({c:parseInt(n)+1,r:s.g.indexOf(a)+1}),d.push(i(l))}):(l=r.a.utils.encode_cell({c:1,r:s.g.indexOf(a)+1}),d.push(i(l))):(l=r.a.utils.encode_cell({c:parseInt(o)+1,r:s.g.indexOf(a)+1}),d.push(i(l))),n[c]={f:d.join("+"),t:"n"}}function d(n){var e=[],t=function(){var n=[];return s.e.forEach(function(e,t){e.subregions?e.subregions.forEach(function(a,r){n.push({name:e.name+": "+a,ri:t,si:r})}):n.push({name:e.name,ri:t,si:null})}),n}(),a=[],i=["Kennung","Klinisch Reha","Score"].concat(s.f),d=s.h.length;n.preventDefault(),e.push(["Score Komponenten"]),s.g.forEach(function(n){e.push([n].concat(s.i[n]))}),e.push([]),t.forEach(function(n,e){a[s.f.length+2+e*d]=n.name,Array.prototype.push.apply(i,s.h)}),e.push(a),e.push(i);for(var u,p=r.a.utils.aoa_to_sheet(e),m=Object.keys(s.i).length+4,h=0;h<localStorage.length;h++){var f=localStorage.key(h);if(f.startsWith("trs_")){var b=Object(s.d)(f);u=0;var g=r.a.utils.encode_cell({c:u,r:m});p[g]={v:b.a.lab,t:"s"},u=1,g=r.a.utils.encode_cell({c:u,r:m}),p[g]={v:b.a.phase,t:"s"},u+=2,s.f.forEach(function(n){c(p,u,m,n,b.a[n]),u+=1}),t.forEach(function(n){var e=l(b,n);s.h.forEach(function(n){c(p,u,m,n,e[n]),u+=1})});var v=r.a.utils.encode_range({s:{c:3,r:m},e:{c:u-1,r:m}});g=r.a.utils.encode_cell({c:2,r:m}),p[g]={f:"100 - SUM("+v+")",t:"n"},m+=1}}p["!ref"]=r.a.utils.encode_range({s:{c:0,r:0},e:{c:u,r:m}});var w=r.a.utils.book_new();r.a.utils.book_append_sheet(w,p,"TRS");var k=r.a.write(w,{bookType:"xlsx",bookSST:!1,type:"binary"});Object(o.saveAs)(new Blob([function(n){for(var e=new ArrayBuffer(n.length),t=new Uint8Array(e),a=0;a<n.length;++a)t[a]=255&n.charCodeAt(a);return e}(k)],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),"trs.xlsx")}function u(e){for(var t=[],a=0;a<localStorage.length;a++){var r=localStorage.key(a);r.startsWith("trs_")&&t.push(r)}t.forEach(function(n){localStorage.removeItem(n)}),n(window).trigger("hashchange")}function p(n){n.preventDefault();for(var e=[],a=0;a<localStorage.length;a++){var r=localStorage.key(a);r.startsWith("trs_")&&e.push(Object(s.d)(r))}var o=t("./node_modules/file-saver/FileSaver.js"),l=new Blob([JSON.stringify(e,null,2)],{type:"application/json"});o.saveAs(l,"trs.json")}function m(e){var t=new FileReader;t.addEventListener("loadend",function(){JSON.parse(t.result).forEach(function(n,e){Object(s.k)("trs_"+e,n)}),n(window).trigger("hashchange")}),t.readAsText(e)}}).call(this,t("./node_modules/jquery/dist/jquery.js"))},"./src/list.js":function(n,e,t){"use strict";(function(n){t.d(e,"a",function(){return i});var a=t("./node_modules/octicons/index.js"),r=t.n(a),o=t("./src/common.js"),s=t("./src/templates/list.hbs"),l=t.n(s);function i(){for(var e=[],t=0;t<localStorage.length;t++){var a=localStorage.key(t);if(a.startsWith("trs_")){var s=Object(o.d)(a),c={};c.id=parseInt(a.slice(4)),c.label=s.a.lab,c.score=Object(o.b)(s),e.push(c)}}var d=1;e.length>0&&(e.sort(function(n,e){return n.id-e.id}),d+=e[e.length-1].id);var u={rows:e,next_id:d,pencil_svg:r.a.pencil.toSVG()},p=n("#page");p.hide(),p.html(l()(u)),n("#trs-table").on("click",".close",function(){localStorage.removeItem(n(this).val()),i()}),p.fadeIn()}}).call(this,t("./node_modules/jquery/dist/jquery.js"))},"./src/print.js":function(n,e,t){"use strict";(function(n){t.d(e,"a",function(){return l}),t.d(e,"b",function(){return i});var a=t("./src/common.js"),r=t("./src/templates/legend.hbs"),o=t.n(r);function s(n,e,t){var r;e in a.j&&(r=Array.isArray(t)?t.map(n=>a.j[e].options[n]).join(". "):a.j[e].options[t],"ua"==e&&(Array.isArray(t)&&0==t.length||0==t)&&(r="Selbstständig"),n.push({label:a.j[e].label+" ("+e.toUpperCase()+")",selected:r,newlist:!1}))}function l(e){var t=Object(a.d)(e),r=[];Object.entries(t.a).forEach(([n,e])=>{a.f.includes(n)&&s(r,n,e)}),t.ms.forEach(function(n,e){var t=a.e[n.region],o=t.name;t.subregions&&(o+=": "+t.subregions[n.subregion]),r.push({label:"Region",selected:"<strong>"+o+"</strong>",newlist:!0}),Object.entries(n).forEach(([n,e])=>s(r,n,e)),"kv"in n&&n.kv>0&&Array.isArray(n.kv_name)&&r.push({label:"Kettenverletzung der Region (KV)",selected:n.kv_name.join(" + "),newlist:!1})});var l={legend:r},i=o()(l);n("#print-area").html("<h3>"+t.a.lab+"</h3>"+n("#print-preview-area").html()+i),n("#print-area").find(".no-print").hide()}function i(){n("#print-area").print(),n("#printModal").modal("hide")}}).call(this,t("./node_modules/jquery/dist/jquery.js"))},"./src/style.css":function(n,e,t){var a=t("./node_modules/css-loader/index.js!./src/style.css");"string"==typeof a&&(a=[[n.i,a,""]]);t("./node_modules/style-loader/lib/addStyles.js")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(n.exports=a.locals)},"./src/templates/detail.hbs":function(n,e,t){var a=t("./node_modules/handlebars/runtime.js");n.exports=(a.default||a).template({1:function(n,e,t,a,r){var o,s=null!=e?e:n.nullContext||{},l=n.lambda,i=n.escapeExpression;return(null!=(o=t.if.call(s,null!=e?e.start_row:e,{name:"if",hash:{},fn:n.program(2,r,0),inverse:n.noop,data:r}))?o:"")+'        <div class="form-group col-md-6">\n          <label for="'+i(l(null!=e?e.component:e,e))+'">'+i(l(null!=e?e.label:e,e))+'</label>\n          <select class="component custom-select form-control med-care-input" name="'+i(l(null!=e?e.component:e,e))+'">\n'+(null!=(o=t.each.call(s,null!=e?e.options:e,{name:"each",hash:{},fn:n.program(4,r,0),inverse:n.noop,data:r}))?o:"")+"          </select>\n        </div>\n"+(null!=(o=t.if.call(s,null!=e?e.end_row:e,{name:"if",hash:{},fn:n.program(6,r,0),inverse:n.noop,data:r}))?o:"")},2:function(n,e,t,a,r){return'      <div class="form-row">\n'},4:function(n,e,t,a,r){var o,s=n.escapeExpression;return'            <option value="'+s("function"==typeof(o=null!=(o=t.index||r&&r.index)?o:t.helperMissing)?o.call(null!=e?e:n.nullContext||{},{name:"index",hash:{},data:r}):o)+'">'+s(n.lambda(e,e))+"</option>\n"},6:function(n,e,t,a,r){return"      </div>\n"},8:function(n,e,t,a,r){var o,s=null!=e?e:n.nullContext||{},l=n.lambda,i=n.escapeExpression;return(null!=(o=t.if.call(s,null!=e?e.start_row:e,{name:"if",hash:{},fn:n.program(2,r,0),inverse:n.noop,data:r}))?o:"")+'        <div class="form-group col-md-6">\n          <label for="'+i(l(null!=e?e.component:e,e))+'">\n            '+i(l(null!=e?e.label:e,e))+"\n            "+(null!=(o=t.if.call(s,null!=e?e.multiple:e,{name:"if",hash:{},fn:n.program(9,r,0),inverse:n.noop,data:r}))?o:"")+'\n          </label>\n          <select class="component custom-select form-control med-care-input" name="'+i(l(null!=e?e.component:e,e))+'" '+(null!=(o=t.if.call(s,null!=e?e.multiple:e,{name:"if",hash:{},fn:n.program(11,r,0),inverse:n.noop,data:r}))?o:"")+">\n"+(null!=(o=t.each.call(s,null!=e?e.options:e,{name:"each",hash:{},fn:n.program(13,r,0),inverse:n.noop,data:r}))?o:"")+"          </select>\n        </div>\n"+(null!=(o=t.if.call(s,null!=e?e.end_row:e,{name:"if",hash:{},fn:n.program(6,r,0),inverse:n.noop,data:r}))?o:"")},9:function(n,e,t,a,r){return"(Mehrfachauswahl möglich)"},11:function(n,e,t,a,r){return'id="'+n.escapeExpression(n.lambda(null!=e?e.component:e,e))+'" multiple'},13:function(n,e,t,a,r){var o;return null!=(o=t.if.call(null!=e?e:n.nullContext||{},e,{name:"if",hash:{},fn:n.program(4,r,0),inverse:n.noop,data:r}))?o:""},15:function(n,e,t,a,r){var o,s=null!=e?e:n.nullContext||{},l=n.lambda,i=n.escapeExpression;return(null!=(o=t.if.call(s,null!=e?e.start_row:e,{name:"if",hash:{},fn:n.program(2,r,0),inverse:n.noop,data:r}))?o:"")+'\n        <div class="form-group col-md-6">\n          <label for="'+i(l(null!=e?e.component:e,e))+'">'+i(l(null!=e?e.label:e,e))+'</label>\n          <select class="component custom-select form-control" name="'+i(l(null!=e?e.component:e,e))+'">\n'+(null!=(o=t.each.call(s,null!=e?e.options:e,{name:"each",hash:{},fn:n.program(4,r,0),inverse:n.noop,data:r}))?o:"")+"          </select>\n        </div>\n"+(null!=(o=t.if.call(s,null!=e?e.end_row:e,{name:"if",hash:{},fn:n.program(6,r,0),inverse:n.noop,data:r}))?o:"")},compiler:[7,">= 4.0.0"],main:function(n,e,t,a,r){var o,s=null!=e?e:n.nullContext||{};return'<div class="container-fluid text-right">\n  <button id="reset" class="btn btn-sm btn-danger">Zurücksetzen</button>\n</div>\n\n<form method="post" class="form mb-3 form-med-care">\n  <div class="form-row">\n    <div class="form-group col-md-6">\n      <label for="lab">Kennung</label>\n      <input class="component form-control med-care-input" name="lab">\n    </div>\n    <div class="form-group col-md-6">\n      <label for="phase">Klinisch Reha</label>\n      <select class="component custom-select form-control med-care-input" name="phase">\n        <option selected value="">-----</option>\n        <option value="Phase A">Phase A</option>\n        <option value="Phase B">Phase B</option>\n        <option value="Phase C">Phase C</option>\n        <option value="Phase D">Phase D</option>\n        <option value="Phase E">Phase E</option>\n        <option value="Phase F">Phase F</option>\n      </select>\n    </div>\n  </div>\n</form>\n\n<div class="card border-info mb-3">\n  <div class="card-body text-info">\n    <div class="container-fluid text-right">\n      <a id="print-preview" class="btn btn-sm btn-info mb-3"  data-toggle="modal" data-target="#printModal" href="#">Druckvorschau</a>\n    </div>\n\n    <div id="print-preview-area" class="card-text">\n      <table class="table table-responsive-lg">\n        <thead>\n          <tr>\n            <th colspan="10" class="number">Summe</th>\n            <th class="no-print"></th>\n          </tr>\n        </thead>\n        <tbody id="table-a">\n        </tbody>\n        <tbody id="header-thera" class="area-thera">\n          <tr>\n            <td colspan="10">\n              <strong>Therapeutisch</strong>\n            </td>\n            <td class="no-print"></td>\n          </tr>\n          <tr>\n            <td colspan="2"><strong>Region</strong></td>\n            <td class="number"><strong>BE</strong></td>\n            <td class="number"><strong>WT</strong></td>\n            <td class="number"><strong>GF</strong></td>\n            <td class="number"><strong>MK</strong></td>\n            <td class="number"><strong>SK</strong></td>\n            <td class="number"><strong>KV</strong></td>\n            <td colspan="2"></td>\n            <td class="no-print"></td>\n          </tr>\n        </tbody>\n        <tbody id="body-thera" class="area-thera"></tbody>\n        <tbody>\n          <tr>\n            <td colspan="8"></td>\n            <td class="number"><strong>Score:</strong></td>\n            <td class="number">\n              <strong><span id="score"></span></strong>\n            </td>\n            <td class="no-print"></td>\n          </tr>\n        </tbody>\n      </table>\n\n    </div>\n  </div>\n</div>\n\n<ul class="nav nav-tabs mt-3" id="myTab" role="tablist">\n  <li class="nav-item">\n    <a class="nav-link active" id="med-tab" data-toggle="tab" href="#med" role="tab" aria-controls="home" aria-selected="true">Ärztlicher Bereich</a>\n  </li>\n  <li class="nav-item">\n    <a class="nav-link" id="care-tab" data-toggle="tab" href="#care" role="tab" aria-controls="profile" aria-selected="false">Pflegerischer Bereich</a>\n  </li>\n  <li class="nav-item">\n    <a class="nav-link" id="thera-tab" data-toggle="tab" href="#thera" role="tab" aria-controls="profile" aria-selected="false">Therapeutischer Bereich</a>\n  </li>\n</ul>\n\n<div class="tab-content mt-3" id="myTabContent">\n  <div class="tab-pane fade show active" id="med" role="tabpanel" aria-labelledby="med-tab">\n    <form method="post" class="form mb-3 form-med-care">\n'+(null!=(o=t.each.call(s,null!=e?e.med:e,{name:"each",hash:{},fn:n.program(1,r,0),inverse:n.noop,data:r}))?o:"")+'    </form>\n  </div>\n\n  <div class="tab-pane fade" id="care" role="tabpanel" aria-labelledby="care-tab">\n    <form method="post" class="form mb-3 form-med-care">\n'+(null!=(o=t.each.call(s,null!=e?e.care:e,{name:"each",hash:{},fn:n.program(8,r,0),inverse:n.noop,data:r}))?o:"")+'    </form>\n  </div>\n\n\n\n  <div class="tab-pane fade" id="thera" role="tabpanel" aria-labelledby="thera-tab">\n    <form id="form-thera" method="post" class="form mb-5">\n\n      <div class="form-row mb-4">\n        <div class="form-group col-md-6">\n          <label for="region">Region</label>\n          <select id="region" class="custom-select form-control" name="region">\n          </select>\n        </div>\n\n        <div class="form-group col-md-6">\n          <label for="subregion">Unterregion</label>\n          <select id="subregion" class="custom-select form-control" name="subregion" disabled>\n          </select>\n        </div>\n      </div>\n\n'+(null!=(o=t.each.call(s,null!=e?e.thera:e,{name:"each",hash:{},fn:n.program(15,r,0),inverse:n.noop,data:r}))?o:"")+'\n      <div id="kv">\n        <h4>Kettenverletzung der Region</h4>\n        <div class="form-row">\n          <div class="form-group col-md-6">\n          </div>\n        </div>\n      </div>\n\n      <button type="submit" class="btn btn-primary">Einfügen</button>\n    </form>\n\n  </div>\n\n</div>\n\n<div class="container-fluid text-right">\n  <a id="listbutton" href="#" class="btn btn-primary mb-5 ">Übersicht</a>\n</div>\n\n<div class="modal" id="printModal" tabindex="-1" role="dialog" aria-labelledby="printModalLabel" aria-hidden="true">\n  <div class="modal-dialog modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div id="print-area" class="modal-body">\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Abbrechen</button>\n        <button type="button" class="btn btn-primary" id="print">Drucken</button>\n      </div>\n    </div>\n  </div>\n</div>\n'},useData:!0})},"./src/templates/legend.hbs":function(n,e,t){var a=t("./node_modules/handlebars/runtime.js");n.exports=(a.default||a).template({1:function(n,e,t,a,r){var o,s=n.lambda;return(null!=(o=t.if.call(null!=e?e:n.nullContext||{},null!=e?e.newlist:e,{name:"if",hash:{},fn:n.program(2,r,0),inverse:n.noop,data:r}))?o:"")+'  <dt class="col-sm-4">'+(null!=(o=s(null!=e?e.label:e,e))?o:"")+'</dt>\n  <dd class="col-sm-8">'+(null!=(o=s(null!=e?e.selected:e,e))?o:"")+"</dd>\n"},2:function(n,e,t,a,r){return'</dl>\n<dl class="row">\n'},compiler:[7,">= 4.0.0"],main:function(n,e,t,a,r){var o;return'<dl class="row">\n'+(null!=(o=t.each.call(null!=e?e:n.nullContext||{},null!=e?e.legend:e,{name:"each",hash:{},fn:n.program(1,r,0),inverse:n.noop,data:r}))?o:"")+"</dl>\n"},useData:!0})},"./src/templates/list.hbs":function(n,e,t){var a=t("./node_modules/handlebars/runtime.js");n.exports=(a.default||a).template({1:function(n,e,t,a,r,o,s){var l,i=n.lambda,c=n.escapeExpression;return'    <tr>\n      <td>\n        <a href="#trs/'+c(i(null!=e?e.id:e,e))+'" class="">'+(null!=(l=i(null!=s[1]?s[1].pencil_svg:s[1],e))?l:"")+"</a>\n      </td>\n      <td>"+c(i(null!=e?e.label:e,e))+"</td>\n      <td>"+c(i(null!=e?e.score:e,e))+'</td>\n      <td class="no-print">\n        <button type="button" value="trs_'+c(i(null!=e?e.id:e,e))+'" class="close remove" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </td>\n    </tr>\n'},compiler:[7,">= 4.0.0"],main:function(n,e,t,a,r,o,s){var l,i,c=null!=e?e:n.nullContext||{};return'<table id="trs-table" class="table table-striped">\n  <thead>\n    <tr>\n      <th>Bearbeiten</th>\n      <th>Kennung</th>\n      <th>Score</th>\n      <th class="number">Entfernen</th>\n    </tr>\n  </thead>\n  <tbody>\n'+(null!=(l=t.each.call(c,null!=e?e.rows:e,{name:"each",hash:{},fn:n.program(1,r,0,o,s),inverse:n.noop,data:r}))?l:"")+'  </tbody>\n</table>\n<p>\n  <a href="#trs/'+n.escapeExpression("function"==typeof(i=null!=(i=t.next_id||(null!=e?e.next_id:e))?i:t.helperMissing)?i.call(c,{name:"next_id",hash:{},data:r}):i)+'" id="new" class="btn btn-primary">Hinzufügen</a>\n</p>\n'},useData:!0,useDepths:!0})},0:function(n,e){},1:function(n,e){},2:function(n,e){}});